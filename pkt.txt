#include <iostream>
#include <fstream>
#include <cstdlib>
#include <string>
#include <stdio.h>
#include <sstream>
#include <conio.h>
#include <vector>

using namespace std;

void menu();

class Punkt_1D
{
protected:
	string nazwa;
	int x;
public:
	Punkt_1D(string nazwaa = NULL, int xx = 0)
	{
		nazwa = nazwaa;
		x = xx;
	};
	
	void zapisz()
	{
		fstream plik;
		plik.open("Punkty.txt", ios::out | ios::app);
		plik << nazwa << endl;
		plik << x << endl;
		plik.close();
	}
};

class Punkt_2D : public Punkt_1D
{
protected:
	int y;
	
public:
	Punkt_2D(string nazwaa = NULL, int xx = 0, int yy = 0)
	{
		nazwa = nazwaa;
		x = xx;
		y = yy;
	};
};

class Punkt_3D : public Punkt_2D
{
protected:
	int z;
	
public:
	Punkt_3D(string nazwaa = NULL, int xx = 0, int yy = 0, int zz = 0)
	{
		nazwa = nazwaa;
		x = xx;
		y = yy;
		z = zz;
	};
};

int main()
{
	menu();
	return 0;
}

void wczytaj()
{
	fstream plik;
	string nazwa;
	int x;
	plik.open("Punkty.txt", ios::in);
	if (plik.good() == false)
	{
		cout << "Nie ma takiego pliku" << endl;
		exit(0);
	}
	string linia;
	int nr_li = 1;
	while (getline(plik, linia))
	{
		switch (nr_li)
		{
		case 1: nazwa = linia;
			cout << nazwa << endl;
			break;
		case 2: x = atoi(linia.c_str());
			cout << x << endl;
			break;
			nr_li++;
		}
	}
	plik.close();
}


void menu() {
	int menu;
	cout << "++++++++++++++	 MENU	++++++++++++++" << endl;
	cout << "0. Wyswietl punkty z pliku tesktowego" << endl;
	cout << "1. Wprowadz punkt 1D" << endl;
	cout << "2. Wprowadz punkt 2D" << endl;
	cout << "3. Wprowadz punkt 3D" << endl;
	cout << "4. Wyjdz z programu" << endl;
	cout << "5. Usun wybrany punkt [WIP]" << endl;
	cout << "6. Wyczysc liste punktow" << endl;
	cin >> menu;
	system("cls");
	switch (menu)
	{
	case 0:
		wczytaj();
		break;
	case 1:
		{
		int x;
		string nazwa;
		cin >> nazwa;
		cin >> x;
		Punkt_1D p1(nazwa, x); 
		}
		break;
	case 2:
		{
		int x,y;
		string nazwa;
		cin >> nazwa;
		cin >> x >> y;
		Punkt_2D p2(nazwa, x, y); 
		}
		break;
	case 3:
	{
		int x, y, z;
		string nazwa;
		
		string input_xyz;
		vector<int> vec;

		getline(cin, nazwa, ' ');

		getline(cin, input_xyz);
		stringstream ss(input_xyz);

		int i;

		while (ss >> i)
		{
			vec.push_back(i);

			if (ss.peek() == ',')
				ss.ignore();
		}
		cout << endl;

		int *tab;
		tab = new int[i];
		
		for (int j = 0; j < i+2; j++)
		{
			tab[j] = vec[j];
		}


		system("pause");
		cout << i;
		cout << nazwa << endl;
		cout << endl << "Wspolrzedne:" << endl;
		for (int j = 0; j < i+2; j++)
		{
			if (j < i + 1)
			{
				cout << tab[j] << ",";
			}
			else
			{
				cout << tab[j] << endl << endl;
			}
		}

		//Punkt_3D(nazwa, x, y, z);
		/*
		int x,y,z;
		string nazwa;
		cin >> nazwa;
		cin >> x >> y >> z;
		Punkt_3D p3(nazwa, x, y, z);
		*/
	}
		break;
	case 4:

		break;
	case 5:

		break;
	case 6:

		break;
	default:
		break;
	}
}
